\documentclass[a4paper,10pt]{article}
%Avril 2016

\usepackage{amsmath, amssymb,amsfonts,  mathrsfs}
\usepackage{amsthm}%\usepackage[T1]{fontenc}
\usepackage{a4wide}
\usepackage[utf8x]{inputenc}
\usepackage[francais]{babel}% donne de bonnes c\'esures  en francais
\usepackage{titlesec}%pour modifier le style des sections
\usepackage{float}%pour fixer les flottants
\usepackage{url}%pour ecrire une adresse d'un site web
\usepackage[all]{xy}%pour faire des diagrammes
\usepackage{graphicx}
\usepackage{nopageno} % pour supprimer les numeros des pages
\usepackage{pdfsync}
\pagestyle{myheadings}
\markright{ENSIIE 1A 2015/2016 - MPM projet Math - Michel Massarro}
\newtheorem{definition}{Définition}
\usepackage[T1]{fontenc} 

\begin{document}
\begin{center}
\textbf{\huge{Rapport : Projet maths}}
\end{center}
\medskip

\section{Partie Mathématiques}

\subsection{Dérivée de Gateau $J'(u,\delta u)$}

\renewcommand{\labelitemi}{$\bullet$}
\begin{itemize}
	\item Déterminer la dérivée de Gâteau de la fonction $x(u)$.
	\medbreak

	On a :
	\begin{equation*}
		\left\{\begin{array}{l}
		\dot x(t) = Ax(t) + Bu(t)\\
		x(0) = x_0
		\end{array}
		\right.
	\end{equation*}
	\medbreak

	Et la formule de la dérivée de Gâteau :
	\begin{equation*}
		f'(u,v) = \lim_{\lambda\to 0^+} \frac{f(u+\lambda) - f(u)}{\lambda}.
	\end{equation*}
	\medbreak
	
	On cherche :
	\begin{equation*}
		\left\{\begin{array}{l}
		\dot x'(u,\delta u)(t)\\
		x'(0)
		\end{array}
		\right.
	\end{equation*}
	
	Or $x'(0) = 0$ \\	
	Et :
	\begin{equation*}
	\begin{aligned}
		\dot x'(u,\delta u)(t) &= \lim_{\lambda\to 0^+} \frac{\dot x(u,\delta u)(t) - \dot x(u)(t)}{\lambda} \\
			&= \lim_{\lambda\to 0^+} \frac{Ax(u,\delta u)(t) + B(u,\delta u)(t) - [Ax(u)(t) + B(u)(t)]}{\lambda} \\
			&= \lim_{\lambda\to 0^+} \frac{A[x(u,\delta u)(t) - x(u)(t)] + B(u,\delta u)(t) -  B(u)(t)}{\lambda} \\
			&= Ax'(u,\delta u)(t) + \lim_{\lambda\to 0^+} \frac{B(u)(t) + B(\lambda\delta u)(t) - B(u)(t)}{\lambda} \\	
			&= Ax'(u,\delta u)(t) + B(\delta u)(t) \\				
	\end{aligned}		
	\end{equation*}	
	\medbreak
	
	On a donc la dérivée de Gâteau de la fonction $x(u)$ :
	\begin{equation*}
		\left\{\begin{array}{l}
		\dot x'(u,\delta u)(t) = Ax'(u,\delta u)(t) + B(\delta u)(t)\\
		x'(0)= 0
		\end{array}
		\right.
	\end{equation*}
	
	\item En déduire la dérivée de Gâteau de $J$.
	\medbreak
	
	\begin{equation*}
\begin{aligned}
	J'(u,\delta u)(t) &= \lim_{\lambda\to 0^+} \frac{J(u,\lambda \delta u)(t) - J(u)(t)}{\lambda} \\
		&= \lim_{\lambda\to 0^+} \int_{0}^{T} \frac{\epsilon}{2} (u + \lambda \delta  u)² \, \mathrm{d}s + \frac{1}{2}x²(u+\lambda\delta u)(t) - \int_{0}^{T} \frac{\epsilon}{2} u²(t) \, \mathrm{d}s - \frac{1}{2} x²u(t)\\	
		&= \lim_{\lambda\to 0^+} \frac{1}{\lambda} [\int_{0}^{T} \frac{\epsilon}{2}(u²(s) + \lambda²\delta u²(s) \, \mathrm{d}s) -  \int_{0}^{T} \frac{\epsilon}{2} u²(s)]  \, \mathrm{d}s\\	
		&= \lim_{\lambda\to 0^+} \frac{1}{\lambda} [\frac{1}{2}x²(u+\delta u)(t) - \frac{1}{2} x²(u)(t)]\\
\end{aligned}		
\end{equation*}
On identifie par rapport à la dérivée de Gâteau à la constante près, d'où :
\begin{equation*}
\begin{aligned}
	J'(u,\delta u)(t) &= \lim_{\lambda\to 0^+} \int_{0}^{T} \frac{\epsilon}{2} \frac{\lambda²\delta u²(s)+2\lambda u(s)\delta u(s)}{\lambda} \, \mathrm{d}s + [\frac{1}{2} x² u(t)]' \\
		&= \lim_{\lambda\to 0^+} \int_{0}^{T} \frac{\epsilon}{2} [\lambda\delta u²(s)+2 u(s)\delta u(s)] \, \mathrm{d}s + x'(u, \delta u)(t)x(t) \\
		&= \int_{0}^{T} \epsilon u(s)\delta u(s) \, \mathrm{d}s + x'(u, \delta u)(t)x(t) \\
\end{aligned}		
\end{equation*}
	
	\item Déterminer la fonction $g(t)$.
	\medbreak	
	
	En prenant la formule de la dérivée de Gâteau appliquée pour la fonction $J$ on a :
	\begin{equation*}
		J'(u,\delta u)(t) = \lim_{\lambda\to 0^+} \frac{J(u,\delta u)(t) - J(u)(t)}{\lambda}
	\end{equation*}	
	
	D'après la dérivée de Taylor-Young qui fait intervenir le gradient, on a : 
	\begin{equation*}
		J(u,`\lambda u)(t) = J(u)(t) + \lambda(\nabla J(u)(t), \delta u) + o(||\lambda \delta u||)
	\end{equation*}
	\begin{equation*}
		\Leftrightarrow J(u,`\lambda u)(t) - J(u)(t) = \lambda(\nabla J(u)(t), \delta u)
	\end{equation*}
	
	En remplaçant on obtient :
	\begin{equation*}
	\begin{aligned}
		J'(u,\delta u)(t) &= \lim_{\lambda\to 0^+} \frac{\lambda(\nabla J(u)(t), \delta u)}{\lambda} \\
			&= (\nabla J(u)(t), \delta u) \\
			&= \int_{0}^{T} \nabla J(u)(s) \delta u(s) \, \mathrm{d}s
	\end{aligned}
	\end{equation*}	
	
	Par identification on voit donc que $g(t) = \nabla J$
	
\end{itemize}

\subsection{Calcul de $\nabla J$}
    \begin{itemize}
         \item Afin de déterminer le gradiant de $J$, on introduit l'équation différentielle
        rétrograde 
    
        \begin{equation*}
          \left\{\begin{array}{l}
                   \dot p(t) = A^Tp(t)\\
                   p(T) = x(T).
                 \end{array}
          \right.  
        \end{equation*}
                  
          Montrons que:
          \begin{equation*}
              \nabla J(u) = \varepsilon u + B^Tp.
           \end{equation*}
           
           \item On a donc: 
           \begin{equation}
                \int_{0}^{T}\dot p(t)x'(u,\delta u)(t)dt=\int_{0}^{T}-A^Tp(t)x'(u,\delta u)dt
           \end{equation}
           
               Avec $x'(u,\delta u)= Ax'(u,\delta u)(t) + B(\delta u)(t)$\\
               On fait donc une Intégration par parties sur (1) (partie droite):
               \begin{equation*}
                    \begin{matrix}
                u(x)=x'(u,\delta u) & v'(x)=\dot p(t))\\ 
                u'(x)=\dot x'(u,\delta u)& v(x)=p(t)
                \end{matrix}
               \end{equation*}
             Ainsi: 
             \begin{equation*}
                 [x'(u,\delta u)(t)p(t)]^T_0 - \int_{0}^{T}\dot x'(u,\delta u)p(t)
             \end{equation*}
             \begin{equation*}
                 (x'(u,\delta u)(T)p(T) \underbrace{-x'(u,\delta u)(0)p(0)}_0)-\int_{0}^{T}\dot x'(u,\delta u)p(t)
             \end{equation*}
             Avec l'égalité d'avant, on a:
             \begin{equation*}
                 x'(u,\delta u)(T)p(T) -\int_{0}^{T}\dot x'(u,\delta u)p(t)=\int_{0}^{T}-A^Tp(t)x'(u,\delta u)dt
             \end{equation*}
              \begin{equation*}
                 x'(u,\delta u)(T)p(T) =\int_{0}^{T}-A^Tp(t)x'(u,\delta u) + \int_{0}^{T}\dot x'(u,\delta u)p(t)
             \end{equation*}
             \begin{equation*}
                 x'(u,\delta u)(T)p(T) =\int_{0}^{T}-A^Tp(t)x'(u,\delta u) + \dot x'(u,\delta u)p(t) \, \mathrm {d}t
             \end{equation*}
             \begin{equation*}
                 x'(u,\delta u)(T)p(T) =\int_{0}^{T}-A^Tp(t)x'(u,\delta u) + p(t)[Ax'(u,\delta u)(t)+B(\delta u)(t)] \, \mathrm {d}t
             \end{equation*}
             \begin{equation*}
                 x'(u,\delta u)(T)p(T) =\int_{0}^{T}-p(t)Ax'(u,\delta u) + p(t)Ax'(u,\delta u)(t)+p(t)B(\delta u)(t) \, \mathrm {d}t
             \end{equation*}
             \begin{equation*}
                 x'(u,\delta u)(T)p(T) =\int_{0}^{T}p(t)B(\delta u)(t) \, \mathrm {d}t
             \end{equation*}
             Or: 
             \begin{equation*}
                 J'(u,\delta u)(t)=\int_{0}^{T} \epsilon u(s)\delta u(s) + x'(u, \delta u)(t)x(t) \, \mathrm {d}t
             \end{equation*}
             Et donc:
             \begin{equation*}
                 \int_{0}^{T}B^Tp(t)\delta u \, \mathrm {d}t = J'(u, \delta u)-\int_{0}^{T}\varepsilon u\delta u \, \mathrm {d}t
             \end{equation*}
             \begin{equation*}
             \begin{aligned}
                 \int_{0}^{T}\delta u(B^Tp(t)+\varepsilon u) \, \mathrm{d}t &=  J'(u,\delta u)(t)\\
                  &= \int_{0}^{T}\nabla J \delta u \, \mathrm{d}t 
             \end{aligned}
             \end{equation*}
          
             \item On peut donc en conclure que:
             \begin{equation*}
                 \nabla J = \varepsilon u + B^Tp(t)
             \end{equation*}
    \end{itemize}
   


\section{Partie Informatique - Résolution numérique}

Afin de répondre à la problématique, modéliser les données et pouvoir répondre à la question, nous avons choisi d'utiliser le langage python. 
\medbreak
Nous utilisons les conditions initiales de l'énoncé
\begin{center}
\includegraphics[scale=0.5]{images/init.png}
\end{center}

Le programme présente plusieurs parties. Le main itère un nombre donné de fois pour converger vers une solution de déplacement de plus en plus précise et minimale. La solution finale de u est utilisée comme valeur de départ de la prochaine itération.

\begin{center}
\includegraphics[scale=0.5]{images/main.png}
\end{center}

A chaque itération, le main doit appeler une fonction qui renvoie une solution à une équation d'Euler permettant d'obtenir X. Pour obtenir cette solution, il est necessaire d'itérer pour converger vers celle-ci.
Nous avons fait une fonction qui renvoie la solution de f(x, u) necessaire pour calculer Euler au rang k.
\begin{center}
\includegraphics[scale=0.5]{images/firstEq.png}
\end{center}

Cette solution sert de condition initiale pour résoudre l'équation d'Euler rétrograde. Euler rétrograde, à l'instar d'euler, itère également en convergeant vers la solution. A chaque itération une fonction qui calcule g(x, u) est appellée.
\begin{center}
\includegraphics[scale=0.5]{images/secEq.png}
\end{center}

Enfin cette solution est utilisée dans une fonction qui récupère le gradient à la kième itération du \textit{main}. 
\begin{center}
\includegraphics[scale=0.5]{images/grad.png}
\end{center}

Au bout des 500 itérations du main, nous récupérons donc un tableau de positions X qui est converti dans le repère circulaire de l'ISS.

\begin{center}
\includegraphics[scale=0.5]{images/adapt.png}
\end{center}


Puis ce tableau est affiché dans un graphique (en bleu). Nous avons également affiché la trajectoire de l'ISS (en vert).

\begin{center}
\includegraphics[scale=0.5]{images/screenshot.png}
\end{center}


\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

